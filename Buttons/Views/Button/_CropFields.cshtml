@using Buttons.Data
@model Crop

<input type="hidden" name="x" value="@Model.Offset.x" />
<input type="hidden" name="y" value="@Model.Offset.y" />
<input type="hidden" name="width" value="@Model.Size.x" />
<input type="hidden" name="height" value="@Model.Size.y" />
<input type="hidden" name="scaleX" value="@Model.Scale.x" />
<input type="hidden" name="scaleY" value="@Model.Scale.y" />

<script type="text/javascript">
    const dataFields = ['x', 'y', 'width', 'height', 'scaleX', 'scaleY'];

    function getData() {
        const data = {};
        for (const field of dataFields) {
            const elements = document.getElementsByName(field);
            let value;
            if (elements.length > 0) {
                const attribute = elements[0].getAttribute('value');
                value = parseFloat(attribute);
            } else {
                console.warn(`${field} not found`);
                value = 0;
            }
            data[field] = value;
        }
        return data;
    }
</script>
